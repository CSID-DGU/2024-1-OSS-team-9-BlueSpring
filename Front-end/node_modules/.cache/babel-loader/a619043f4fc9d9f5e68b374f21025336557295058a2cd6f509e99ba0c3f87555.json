{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/kms32/IdeaProjects/2024-1 oss/2024-1-OSS-team-9-BlueSpring/Front-end/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3;import styled from\"styled-components\";import NewsItem from\"./NewsItem\";import{useEffect,useState}from'react';import axios from\"../../node_modules/axios/index\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const NewsListBlock=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    :hover {\\n      background-color: lightgrey;\\n    }\\n    box-sizing: border-box;\\n    padding-bottom: 3rem;\\n    width: 768px;\\n    margin: 0 auto;\\n    margin-top: 2rem;\\n    @media screen and (max-width: 768px) {\\n        width: 100%;\\n        padding-left: 1rem;\\n        padding-right: 1rem;\\n    }\\n\"])));const RecentNews=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    width: 768px;\\n    margin: 0 auto;\\n\"])));const MenuArea=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    width:100%;\\n    height:50px;\\n\"])));const NewsList=_ref=>{let{category}=_ref;const[articles,setArticles]=useState(null);const[loading,setLoading]=useState(false);useEffect(()=>{const fetchData=async()=>{setLoading(true);try{const query=category==='all'?'':\"&category=\".concat(category);const response=await axios.get(\"https://newsapi.org/v2/top-headlines?country=kr\".concat(query,\"&apiKey=a0ba251738f34defbb9bfe8af6e34866\"));setArticles(response.data.articles);}catch(err){console.log(err);}setLoading(false);};fetchData();},[category]);if(loading){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(MenuArea,{}),/*#__PURE__*/_jsx(NewsListBlock,{children:\"\\uB300\\uAE30\\uC911...\"})]});}if(!articles){return null;}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(MenuArea,{}),/*#__PURE__*/_jsx(RecentNews,{children:/*#__PURE__*/_jsxs(\"h2\",{children:[/*#__PURE__*/_jsx(\"br\",{}),\" \\uCD5C\\uC2E0\\uAE30\\uC0AC\"]})}),/*#__PURE__*/_jsx(NewsListBlock,{children:articles.map(article=>/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(NewsItem,{article:article},article.url),\" \",/*#__PURE__*/_jsx(\"hr\",{})]}))})]});};export default NewsList;","map":{"version":3,"names":["styled","NewsItem","useEffect","useState","axios","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","NewsListBlock","div","_templateObject","_taggedTemplateLiteral","RecentNews","_templateObject2","MenuArea","_templateObject3","NewsList","_ref","category","articles","setArticles","loading","setLoading","fetchData","query","concat","response","get","data","err","console","log","children","map","article","url"],"sources":["C:/Users/kms32/IdeaProjects/2024-1 oss/2024-1-OSS-team-9-BlueSpring/Front-end/src/components/NewsList.jsx"],"sourcesContent":["import styled from \"styled-components\";\r\nimport NewsItem from \"./NewsItem\";\r\nimport {useEffect, useState} from 'react';\r\nimport axios from \"../../node_modules/axios/index\"\r\n\r\nconst NewsListBlock = styled.div`\r\n    :hover {\r\n      background-color: lightgrey;\r\n    }\r\n    box-sizing: border-box;\r\n    padding-bottom: 3rem;\r\n    width: 768px;\r\n    margin: 0 auto;\r\n    margin-top: 2rem;\r\n    @media screen and (max-width: 768px) {\r\n        width: 100%;\r\n        padding-left: 1rem;\r\n        padding-right: 1rem;\r\n    }\r\n`;\r\nconst RecentNews = styled.div`\r\n    width: 768px;\r\n    margin: 0 auto;\r\n`;\r\nconst MenuArea = styled.div`\r\n    width:100%;\r\n    height:50px;\r\n`\r\n\r\nconst NewsList= ({category}) => {\r\n\r\n    const [articles, setArticles] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n    \r\n    \r\n    useEffect(()=>{\r\n        const fetchData = async() => {\r\n            setLoading(true);\r\n            try {\r\n                const query = category === 'all' ? '' : `&category=${category}`;\r\n                const response = await axios.get(\r\n                    `https://newsapi.org/v2/top-headlines?country=kr${query}&apiKey=a0ba251738f34defbb9bfe8af6e34866`\r\n                );\r\n                setArticles(response.data.articles)\r\n            } catch(err) {\r\n                console.log(err)\r\n            }\r\n            setLoading(false);\r\n        }\r\n        fetchData();\r\n        \r\n    },[category])\r\n  \r\n\r\n    if (loading) {\r\n      return <><MenuArea/><NewsListBlock>대기중...</NewsListBlock></>;\r\n    }\r\n    if (!articles) {\r\n      return null;\r\n    }\r\n    return (\r\n      <>\r\n      <MenuArea/>\r\n      <RecentNews>\r\n      <h2><br/> 최신기사</h2>\r\n      </RecentNews>\r\n      \r\n      <NewsListBlock>\r\n        {articles.map((article) => (\r\n          <p><NewsItem key={article.url} article={article} /> <hr/></p>\r\n        ))}\r\n      </NewsListBlock>\r\n      </>\r\n    );\r\n  }\r\n\r\nexport default NewsList;"],"mappings":"yOAAA,MAAO,CAAAA,MAAM,KAAM,mBAAmB,CACtC,MAAO,CAAAC,QAAQ,KAAM,YAAY,CACjC,OAAQC,SAAS,CAAEC,QAAQ,KAAO,OAAO,CACzC,MAAO,CAAAC,KAAK,KAAM,gCAAgC,QAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElD,KAAM,CAAAC,aAAa,CAAGX,MAAM,CAACY,GAAG,CAAAC,eAAA,GAAAA,eAAA,CAAAC,sBAAA,8TAc/B,CACD,KAAM,CAAAC,UAAU,CAAGf,MAAM,CAACY,GAAG,CAAAI,gBAAA,GAAAA,gBAAA,CAAAF,sBAAA,kDAG5B,CACD,KAAM,CAAAG,QAAQ,CAAGjB,MAAM,CAACY,GAAG,CAAAM,gBAAA,GAAAA,gBAAA,CAAAJ,sBAAA,6CAG1B,CAED,KAAM,CAAAK,QAAQ,CAAEC,IAAA,EAAgB,IAAf,CAACC,QAAQ,CAAC,CAAAD,IAAA,CAEvB,KAAM,CAACE,QAAQ,CAAEC,WAAW,CAAC,CAAGpB,QAAQ,CAAC,IAAI,CAAC,CAC9C,KAAM,CAACqB,OAAO,CAAEC,UAAU,CAAC,CAAGtB,QAAQ,CAAC,KAAK,CAAC,CAG7CD,SAAS,CAAC,IAAI,CACV,KAAM,CAAAwB,SAAS,CAAG,KAAAA,CAAA,GAAW,CACzBD,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACA,KAAM,CAAAE,KAAK,CAAGN,QAAQ,GAAK,KAAK,CAAG,EAAE,cAAAO,MAAA,CAAgBP,QAAQ,CAAE,CAC/D,KAAM,CAAAQ,QAAQ,CAAG,KAAM,CAAAzB,KAAK,CAAC0B,GAAG,mDAAAF,MAAA,CACsBD,KAAK,4CAC3D,CAAC,CACDJ,WAAW,CAACM,QAAQ,CAACE,IAAI,CAACT,QAAQ,CAAC,CACvC,CAAE,MAAMU,GAAG,CAAE,CACTC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CACpB,CACAP,UAAU,CAAC,KAAK,CAAC,CACrB,CAAC,CACDC,SAAS,CAAC,CAAC,CAEf,CAAC,CAAC,CAACL,QAAQ,CAAC,CAAC,CAGb,GAAIG,OAAO,CAAE,CACX,mBAAOd,KAAA,CAAAF,SAAA,EAAA2B,QAAA,eAAE7B,IAAA,CAACW,QAAQ,GAAC,CAAC,cAAAX,IAAA,CAACK,aAAa,EAAAwB,QAAA,CAAC,uBAAM,CAAe,CAAC,EAAE,CAAC,CAC9D,CACA,GAAI,CAACb,QAAQ,CAAE,CACb,MAAO,KAAI,CACb,CACA,mBACEZ,KAAA,CAAAF,SAAA,EAAA2B,QAAA,eACA7B,IAAA,CAACW,QAAQ,GAAC,CAAC,cACXX,IAAA,CAACS,UAAU,EAAAoB,QAAA,cACXzB,KAAA,OAAAyB,QAAA,eAAI7B,IAAA,QAAI,CAAC,4BAAK,EAAI,CAAC,CACP,CAAC,cAEbA,IAAA,CAACK,aAAa,EAAAwB,QAAA,CACXb,QAAQ,CAACc,GAAG,CAAEC,OAAO,eACpB3B,KAAA,MAAAyB,QAAA,eAAG7B,IAAA,CAACL,QAAQ,EAAmBoC,OAAO,CAAEA,OAAQ,EAA9BA,OAAO,CAACC,GAAwB,CAAC,IAAC,cAAAhC,IAAA,QAAI,CAAC,EAAG,CAC7D,CAAC,CACW,CAAC,EACd,CAAC,CAEP,CAAC,CAEH,cAAe,CAAAa,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}